const isDateString = str =>
  str.split('.').length === 3 || str.split('-').length === 3;

const formatForDate = (dateString, formatBirthday = false) => {
  if (!isDateString) {
    return '';
  }

  const matchDate = dateString.match(/(\d{1,4})[-.]?(\d{1,2})[-.]?(\d{1,4})/);

  if (matchDate && matchDate) {
    if (matchDate[1].length === 4) {
      if (formatBirthday) {
        return `${matchDate[3]}.${matchDate[2]}.${matchDate[1]}`;
      }
      return `${matchDate[1]}-${matchDate[2]}-${matchDate[3]}`;
    } else {
      if (formatBirthday) {
        return `${matchDate[1]}.${matchDate[2]}.${matchDate[3]}`;
      }
      return `${matchDate[3]}-${matchDate[2]}-${matchDate[1]}`;
    }
  }
  return '';
};

module.exports = formatForDate;
